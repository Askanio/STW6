@using ScrewTurn.Wiki.Web.Localization.Admin
@model ScrewTurn.Wiki.Web.Models.Admin.Home.OrphanPagesModel
@{
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}
<h2 class="sectiontitle">@AdminHome.LblAdminHome_Text</h2>

    <h2 class="separator">@AdminHome.LblOrphanPages_Text</h2>
    @AdminHome.LblOrphanPagesInfoPre_Text
    <b>@Model.OrphanPagesCount</b>
    @AdminHome.LblOrphanPagesInfoPost_Text
    <small>(@Html.ActionLink(@AdminHome.LnkPages_Text, "Index", "Pages", null, new { title = @AdminHome.LnkPages_ToolTip }))</small>.
    <br />
<small>
    @Html.Raw(AdminHome.LblOrphanPagesInfo_Text)
</small>
    <br /><br />
@Html.ActionLink(@AdminHome.BtnRebuildPageLinks_Text, "RebuildPageLinks", "Home", null, new { @class = "link-button", title = @AdminHome.BtnRebuildPageLinks_ToolTip })
    <span id="OrphansProgressSpan" style="display: none;">
        <img src="/Content/Images/Wait.gif" alt="Rebuilding..." />
        <img src="/Content/Images/Wait.gif" alt="Rebuilding..." />
        <img src="/Content/Images/Wait.gif" alt="Rebuilding..." />
    </span>
    <br /><br />

<small>
    @Html.Raw(AdminHome.LblRebuildPageLinksInfo_Text)
</small>
    <br /><br />

    <h2 class="separator">@AdminHome.LblIndexStatus_Text"</h2>
            <table class="generic" cellpadding="0" cellspacing="0">
                <thead>
                    <tr class="tableheader">
                        <th>@AdminHome.LblProvider_Text"</th>
                        <th>&nbsp;</th>
                    </tr>
                </thead>
                <tbody>

        @for (int i = 0; i < Model.IndexProviders.Count; i++)
        {
            var cl = i % 2 == 0 ? "tablerow" : "tablerowalternate";

            <tr class="@cl">
                <td>@Model.IndexProviders[i].Provider</td>
                <td>
                    @Html.ActionLink(@AdminHome.BtnRebuild_Text, "RebuildProvidersIndex", "Home", new { command = @Model.IndexProviders[i].Command, providerType = @Model.IndexProviders[i] .ProviderType}, new { title = @AdminHome.BtnRebuild_ToolTip })
                </td>
            </tr>
        }
            </tbody>
            </table>

    <br />
    <span id="ProgressSpan" style="display: none;">
        <img src="/Content/Images/Wait.gif" alt="Rebuilding..." />
        <img src="/Content/Images/Wait.gif" alt="Rebuilding..." />
        <img src="/Content/Images/Wait.gif" alt="Rebuilding..." />
    </span>
    <small>
        @Html.Raw(AdminHome.LblRebuildIndexInfo_Text)
    </small>

    <div style="clear: both;"></div>
